{% load static %}
{% load widget_tweaks %}

<script>
    function uploading(val) {
        document.getElementById(val.toString()).src =
            "{% static '/images/loading.gif' %}";

        setTimeout(function () {
            document.getElementById(val).src = "{% static '/images/complete2.png' %}";
        }, 2000);
    }
</script>
<div class="modal fade" id="Upload" tabindex="-1" role="dialog" aria-labelledby="downloadLabel">
    <div class="modal-dialog" role="document">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="false">&times;</span>
        </button>
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="downloadLabel">Upload Filled Data Collection</h4>
            </div>
            <div class="modal-body">
                <img class="img-responsive" id="upload" src="{% static '/images/upload.gif' %}" />


                <form method="POST" action="" enctype="multipart/form-data">
                    {% csrf_token %}


                    <div id="show" class="upload">
                        <div class="box has-advanced-upload">
                            <div class="box__input">
                                {{form.filledDataCollection | add_class:"butt" }}
                            </div>
                            <div class="box__uploading">Uploading&hellip;</div>
                            <div class="box__success">Done!</div>
                            <div class="box__error">Error! <span></span>.</div>
                        </div>

                    </div>

                    {{userForm.errors}}
                    <div class="modalBtns">

                        <input type="submit" class="btn" name="addUser" onclick="uploading('upload');" value="Upload" />
                    </div>

                </form>


            </div>

        </div>
    </div>
</div>